\hypertarget{config_8h}{}\doxysection{config.\+h File Reference}
\label{config_8h}\index{config.h@{config.h}}


BMS configuration file.  


\doxysubsection*{Variables}
\begin{DoxyCompactItemize}
\item 
constexpr uint8\+\_\+t \mbox{\hyperlink{config_8h_a9d3dfaea3b1a9a8e8307c02ce7a0acf0}{SLAVE\+\_\+\+NUM}} = 1
\begin{DoxyCompactList}\small\item\em Number of slaves. \end{DoxyCompactList}\item 
constexpr uint8\+\_\+t \mbox{\hyperlink{config_8h_a2bdd7efeb84433afd932f251cc091286}{SLAVES\+\_\+\+ADDRESS}} \mbox{[}\mbox{\hyperlink{config_8h_a9d3dfaea3b1a9a8e8307c02ce7a0acf0}{SLAVE\+\_\+\+NUM}}\mbox{]}
\begin{DoxyCompactList}\small\item\em Slaves addresses. \end{DoxyCompactList}\item 
constexpr uint8\+\_\+t \mbox{\hyperlink{config_8h_a9a1a3165ff3c8eba699ee730e65dbfa7}{CELL\+\_\+\+NUM}} = 9
\begin{DoxyCompactList}\small\item\em Cells per slave. \end{DoxyCompactList}\item 
constexpr uint8\+\_\+t \mbox{\hyperlink{config_8h_a959c2250a585480f7df6da67be7cc151}{ADC\+\_\+\+OPT}} = 0
\begin{DoxyCompactList}\small\item\em ADC mode. \end{DoxyCompactList}\item 
constexpr uint8\+\_\+t \mbox{\hyperlink{config_8h_a88221d2a2d6a76bc3052db9c68054dd2}{ADC\+\_\+\+CONVERSION\+\_\+\+MODE}} = 2
\begin{DoxyCompactList}\small\item\em ADC convertion mode. \end{DoxyCompactList}\item 
constexpr uint8\+\_\+t \mbox{\hyperlink{config_8h_a8f609972d52ef9147eb2220ddcd3c4ac}{ADC\+\_\+\+DCP}} = 1
\begin{DoxyCompactList}\small\item\em Discharge permitted. \end{DoxyCompactList}\item 
constexpr uint8\+\_\+t \mbox{\hyperlink{config_8h_adebcaae6b2b5145994c787c586904b9f}{CELL\+\_\+\+CHANNEL}} = 0
\begin{DoxyCompactList}\small\item\em \mbox{\hyperlink{struct_cell}{Cell}} selection for ADC conversion. \end{DoxyCompactList}\item 
constexpr uint16\+\_\+t \mbox{\hyperlink{config_8h_ac67d1ded2a5d66437cafd22ed206becd}{UV\+\_\+\+THRESHOLD}} = 33000
\begin{DoxyCompactList}\small\item\em Undervolt threshold. \end{DoxyCompactList}\item 
constexpr uint16\+\_\+t \mbox{\hyperlink{config_8h_a36d65d92888cf30c21ecda46602a593b}{OV\+\_\+\+THRESHOLD}} = 42000
\begin{DoxyCompactList}\small\item\em Overvolt threshold. \end{DoxyCompactList}\item 
constexpr uint16\+\_\+t \mbox{\hyperlink{config_8h_a22d18ee2f2e00b49fdceb455329448ff}{MEASUREMENT\+\_\+\+LOOP\+\_\+\+DELAY}} = 20 $\ast$ \mbox{\hyperlink{config_8h_a9d3dfaea3b1a9a8e8307c02ce7a0acf0}{SLAVE\+\_\+\+NUM}}
\begin{DoxyCompactList}\small\item\em Measurement delay. \end{DoxyCompactList}\item 
constexpr uint8\+\_\+t \mbox{\hyperlink{config_8h_a5fc8ae8eec750c1b2cae5c8cd651cc68}{GPIO\+\_\+\+CHANNEL}} = 0
\begin{DoxyCompactList}\small\item\em GPIO selection for ADC conversion. \end{DoxyCompactList}\item 
constexpr uint8\+\_\+t \mbox{\hyperlink{config_8h_aa563145aeab1ba020b3ed333ace20954}{SPI\+\_\+\+CS\+\_\+\+PIN}} = 5
\begin{DoxyCompactList}\small\item\em SPI CS pin. \end{DoxyCompactList}\end{DoxyCompactItemize}


\doxysubsection{Detailed Description}
BMS configuration file. 

\begin{DoxyAuthor}{Author}
Tommaso Prandin, Luca Bombonati 
\end{DoxyAuthor}
\begin{DoxyVersion}{Version}
0.\+1 
\end{DoxyVersion}
\begin{DoxyDate}{Date}
2023-\/02-\/25
\end{DoxyDate}
\begin{DoxyCopyright}{Copyright}
Copyright Race\+UP(c) 2023 
\end{DoxyCopyright}


\doxysubsection{Variable Documentation}
\mbox{\Hypertarget{config_8h_a88221d2a2d6a76bc3052db9c68054dd2}\label{config_8h_a88221d2a2d6a76bc3052db9c68054dd2}} 
\index{config.h@{config.h}!ADC\_CONVERSION\_MODE@{ADC\_CONVERSION\_MODE}}
\index{ADC\_CONVERSION\_MODE@{ADC\_CONVERSION\_MODE}!config.h@{config.h}}
\doxysubsubsection{\texorpdfstring{ADC\_CONVERSION\_MODE}{ADC\_CONVERSION\_MODE}}
{\footnotesize\ttfamily constexpr uint8\+\_\+t ADC\+\_\+\+CONVERSION\+\_\+\+MODE = 2\hspace{0.3cm}{\ttfamily [constexpr]}}



ADC convertion mode. 

10 -\/\texorpdfstring{$>$}{>} Select 7k\+Hz normal mode for ADC conversion (see comment above) \begin{DoxySeeAlso}{See also}
\mbox{\hyperlink{config_8h_a959c2250a585480f7df6da67be7cc151}{ADC\+\_\+\+OPT}} 
\end{DoxySeeAlso}
\mbox{\Hypertarget{config_8h_a8f609972d52ef9147eb2220ddcd3c4ac}\label{config_8h_a8f609972d52ef9147eb2220ddcd3c4ac}} 
\index{config.h@{config.h}!ADC\_DCP@{ADC\_DCP}}
\index{ADC\_DCP@{ADC\_DCP}!config.h@{config.h}}
\doxysubsubsection{\texorpdfstring{ADC\_DCP}{ADC\_DCP}}
{\footnotesize\ttfamily constexpr uint8\+\_\+t ADC\+\_\+\+DCP = 1\hspace{0.3cm}{\ttfamily [constexpr]}}



Discharge permitted. 

Whether discharge is permitted\+: 
\begin{DoxyItemize}
\item 0 -\/\texorpdfstring{$>$}{>} Discharge not permitted while ADC conversion 
\item 1 -\/\texorpdfstring{$>$}{>} Discharge Permitted while ADC conversion 
\end{DoxyItemize}\mbox{\Hypertarget{config_8h_a959c2250a585480f7df6da67be7cc151}\label{config_8h_a959c2250a585480f7df6da67be7cc151}} 
\index{config.h@{config.h}!ADC\_OPT@{ADC\_OPT}}
\index{ADC\_OPT@{ADC\_OPT}!config.h@{config.h}}
\doxysubsubsection{\texorpdfstring{ADC\_OPT}{ADC\_OPT}}
{\footnotesize\ttfamily constexpr uint8\+\_\+t ADC\+\_\+\+OPT = 0\hspace{0.3cm}{\ttfamily [constexpr]}}



ADC mode. 

ADC operating mode\+: 
\begin{DoxyItemize}
\item 0 -\/\texorpdfstring{$>$}{>} Selects Modes 422Hz, 27k\+Hz, 7k\+Hz or 26Hz with MD\mbox{[}1\+:0\mbox{]} Bits in ADC Conversion Commands (Default) 
\item 1 -\/\texorpdfstring{$>$}{>} Selects Modes 1k\+Hz, 14k\+Hz, 3k\+Hz or 2k\+Hz with MD\mbox{[}1\+:0\mbox{]} Bits in ADC Conversion Commands 
\end{DoxyItemize}\mbox{\Hypertarget{config_8h_adebcaae6b2b5145994c787c586904b9f}\label{config_8h_adebcaae6b2b5145994c787c586904b9f}} 
\index{config.h@{config.h}!CELL\_CHANNEL@{CELL\_CHANNEL}}
\index{CELL\_CHANNEL@{CELL\_CHANNEL}!config.h@{config.h}}
\doxysubsubsection{\texorpdfstring{CELL\_CHANNEL}{CELL\_CHANNEL}}
{\footnotesize\ttfamily constexpr uint8\+\_\+t CELL\+\_\+\+CHANNEL = 0\hspace{0.3cm}{\ttfamily [constexpr]}}



\mbox{\hyperlink{struct_cell}{Cell}} selection for ADC conversion. 

Which cells will be measured\+: 0 -\/\texorpdfstring{$>$}{>} all cells (0-\/12) \mbox{\Hypertarget{config_8h_a9a1a3165ff3c8eba699ee730e65dbfa7}\label{config_8h_a9a1a3165ff3c8eba699ee730e65dbfa7}} 
\index{config.h@{config.h}!CELL\_NUM@{CELL\_NUM}}
\index{CELL\_NUM@{CELL\_NUM}!config.h@{config.h}}
\doxysubsubsection{\texorpdfstring{CELL\_NUM}{CELL\_NUM}}
{\footnotesize\ttfamily constexpr uint8\+\_\+t CELL\+\_\+\+NUM = 9\hspace{0.3cm}{\ttfamily [constexpr]}}



Cells per slave. 

Number of cells per slave (max 12) \mbox{\Hypertarget{config_8h_a5fc8ae8eec750c1b2cae5c8cd651cc68}\label{config_8h_a5fc8ae8eec750c1b2cae5c8cd651cc68}} 
\index{config.h@{config.h}!GPIO\_CHANNEL@{GPIO\_CHANNEL}}
\index{GPIO\_CHANNEL@{GPIO\_CHANNEL}!config.h@{config.h}}
\doxysubsubsection{\texorpdfstring{GPIO\_CHANNEL}{GPIO\_CHANNEL}}
{\footnotesize\ttfamily constexpr uint8\+\_\+t GPIO\+\_\+\+CHANNEL = 0\hspace{0.3cm}{\ttfamily [constexpr]}}



GPIO selection for ADC conversion. 

Which GPIO will be measured\+: 0 -\/\texorpdfstring{$>$}{>} all cells (0-\/12) \mbox{\Hypertarget{config_8h_a22d18ee2f2e00b49fdceb455329448ff}\label{config_8h_a22d18ee2f2e00b49fdceb455329448ff}} 
\index{config.h@{config.h}!MEASUREMENT\_LOOP\_DELAY@{MEASUREMENT\_LOOP\_DELAY}}
\index{MEASUREMENT\_LOOP\_DELAY@{MEASUREMENT\_LOOP\_DELAY}!config.h@{config.h}}
\doxysubsubsection{\texorpdfstring{MEASUREMENT\_LOOP\_DELAY}{MEASUREMENT\_LOOP\_DELAY}}
{\footnotesize\ttfamily constexpr uint16\+\_\+t MEASUREMENT\+\_\+\+LOOP\+\_\+\+DELAY = 20 $\ast$ \mbox{\hyperlink{config_8h_a9d3dfaea3b1a9a8e8307c02ce7a0acf0}{SLAVE\+\_\+\+NUM}}\hspace{0.3cm}{\ttfamily [constexpr]}}



Measurement delay. 

Time delay in milliseconds between measurement \mbox{\Hypertarget{config_8h_a36d65d92888cf30c21ecda46602a593b}\label{config_8h_a36d65d92888cf30c21ecda46602a593b}} 
\index{config.h@{config.h}!OV\_THRESHOLD@{OV\_THRESHOLD}}
\index{OV\_THRESHOLD@{OV\_THRESHOLD}!config.h@{config.h}}
\doxysubsubsection{\texorpdfstring{OV\_THRESHOLD}{OV\_THRESHOLD}}
{\footnotesize\ttfamily constexpr uint16\+\_\+t OV\+\_\+\+THRESHOLD = 42000\hspace{0.3cm}{\ttfamily [constexpr]}}



Overvolt threshold. 

Overvolt threshold in 100uV \mbox{\Hypertarget{config_8h_a9d3dfaea3b1a9a8e8307c02ce7a0acf0}\label{config_8h_a9d3dfaea3b1a9a8e8307c02ce7a0acf0}} 
\index{config.h@{config.h}!SLAVE\_NUM@{SLAVE\_NUM}}
\index{SLAVE\_NUM@{SLAVE\_NUM}!config.h@{config.h}}
\doxysubsubsection{\texorpdfstring{SLAVE\_NUM}{SLAVE\_NUM}}
{\footnotesize\ttfamily constexpr uint8\+\_\+t SLAVE\+\_\+\+NUM = 1\hspace{0.3cm}{\ttfamily [constexpr]}}



Number of slaves. 

Number of slaves in BMS (max 16) \mbox{\Hypertarget{config_8h_a2bdd7efeb84433afd932f251cc091286}\label{config_8h_a2bdd7efeb84433afd932f251cc091286}} 
\index{config.h@{config.h}!SLAVES\_ADDRESS@{SLAVES\_ADDRESS}}
\index{SLAVES\_ADDRESS@{SLAVES\_ADDRESS}!config.h@{config.h}}
\doxysubsubsection{\texorpdfstring{SLAVES\_ADDRESS}{SLAVES\_ADDRESS}}
{\footnotesize\ttfamily constexpr uint8\+\_\+t SLAVES\+\_\+\+ADDRESS\mbox{[}\mbox{\hyperlink{config_8h_a9d3dfaea3b1a9a8e8307c02ce7a0acf0}{SLAVE\+\_\+\+NUM}}\mbox{]}\hspace{0.3cm}{\ttfamily [constexpr]}}

{\bfseries Initial value\+:}
\begin{DoxyCode}{0}
\DoxyCodeLine{=\ \{}
\DoxyCodeLine{\ \ 0b0000}
\DoxyCodeLine{\}}

\end{DoxyCode}


Slaves addresses. 

Array where slaves addresses will be stored. Must be same length as SLAVE\+\_\+\+NUM \begin{DoxySeeAlso}{See also}
\mbox{\hyperlink{config_8h_a9d3dfaea3b1a9a8e8307c02ce7a0acf0}{SLAVE\+\_\+\+NUM}} 
\end{DoxySeeAlso}
\mbox{\Hypertarget{config_8h_aa563145aeab1ba020b3ed333ace20954}\label{config_8h_aa563145aeab1ba020b3ed333ace20954}} 
\index{config.h@{config.h}!SPI\_CS\_PIN@{SPI\_CS\_PIN}}
\index{SPI\_CS\_PIN@{SPI\_CS\_PIN}!config.h@{config.h}}
\doxysubsubsection{\texorpdfstring{SPI\_CS\_PIN}{SPI\_CS\_PIN}}
{\footnotesize\ttfamily constexpr uint8\+\_\+t SPI\+\_\+\+CS\+\_\+\+PIN = 5\hspace{0.3cm}{\ttfamily [constexpr]}}



SPI CS pin. 

Specify SPI chip select pin in arduino board \mbox{\Hypertarget{config_8h_ac67d1ded2a5d66437cafd22ed206becd}\label{config_8h_ac67d1ded2a5d66437cafd22ed206becd}} 
\index{config.h@{config.h}!UV\_THRESHOLD@{UV\_THRESHOLD}}
\index{UV\_THRESHOLD@{UV\_THRESHOLD}!config.h@{config.h}}
\doxysubsubsection{\texorpdfstring{UV\_THRESHOLD}{UV\_THRESHOLD}}
{\footnotesize\ttfamily constexpr uint16\+\_\+t UV\+\_\+\+THRESHOLD = 33000\hspace{0.3cm}{\ttfamily [constexpr]}}



Undervolt threshold. 

Undervolt threshold in 100uV 